<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Source: lib/topologies/replset_state.js</title>
    
    
    
    
    
    <meta property="og:title" content=""/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content=""/>
    
    <meta property="og:url" content=""/>
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"monospaceLinks":true,"cleverLinks":true,"default":{"outputSourceFiles":true},"applicationName":"Node.js MongoDB Driver API","disqus":true,"googleAnalytics":"UA-29229787-1","openGraph":{"title":"","type":"website","image":"","site_name":"","url":""},"meta":{"title":"","description":"","keyword":""},"linenums":true};
    </script>
    

    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', UA-29229787-1, 'auto');
      ga('send', 'pageview');
    </script>    
    
</head>
<body>
<div id="wrap" class="clearfix" style="width:100%;">
    <table style="height:100%;width:100%">
        <tr>
            <td valign='top'>        
                <div class="main">
                    <h1 class="page-title" data-filename="lib_topologies_replset_state.js.html">Source: lib/topologies/replset_state.js</h1>
                    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>"use strict";

var Logger = require('../connection/logger')
  , f = require('util').format
  , MongoError = require('../error');

var DISCONNECTED = 'disconnected';
var CONNECTING = 'connecting';
var CONNECTED = 'connected';
var DESTROYED = 'destroyed';

/**
 * Creates a new Replicaset State object
 * @class
 * @property {object} primary Primary property
 * @property {array} secondaries List of secondaries
 * @property {array} arbiters List of arbiters
 * @return {State} A cursor instance
 */
var State = function(replSet, options) {
  this.replSet = replSet;
  this.options = options;
  this.secondaries = [];
  this.arbiters = [];
  this.passives = [];
  this.primary = null;
  // Initial state is disconnected
  this.state = DISCONNECTED;
  // Get a logger instance
  this.logger = Logger('ReplSet', options);
  // Unpacked options
  this.id = options.id;
  this.setName = options.setName;
  this.connectingServers = options.connectingServers;
  this.secondaryOnlyConnectionAllowed = options.secondaryOnlyConnectionAllowed;
}

/**
 * Is there a secondary connected
 * @method
 * @return {boolean}
 */
State.prototype.isSecondaryConnected = function() {    
  for(var i = 0; i &lt; this.secondaries.length; i++) {
    if(this.secondaries[i].isConnected()) return true;
  }

  return false;
}

/**
 * Is there a primary connection
 * @method
 * @return {boolean}
 */
State.prototype.isPrimaryConnected = function() {
  return this.primary != null &amp;&amp; this.primary.isConnected();
}

/**
 * Is the given address the primary
 * @method
 * @param {string} address Server address
 * @return {boolean}
 */
State.prototype.isPrimary = function(address) {
  if(this.primary == null) return false;
  return this.primary &amp;&amp; this.primary.equals(address);
}

/**
 * Is the given address a secondary
 * @method
 * @param {string} address Server address
 * @return {boolean}
 */
State.prototype.isSecondary = function(address) {
  // Check if the server is a secondary at the moment
  for(var i = 0; i &lt; this.secondaries.length; i++) {
    if(this.secondaries[i].equals(address)) {
      return true;
    }
  }

  return false;
}

/**
 * Is the given address a secondary
 * @method
 * @param {string} address Server address
 * @return {boolean}
 */
State.prototype.isPassive = function(address) {
  // Check if the server is a secondary at the moment
  for(var i = 0; i &lt; this.passives.length; i++) {
    if(this.passives[i].equals(address)) {
      return true;
    }
  }

  return false;
}

/**
 * Does the replicaset contain this server
 * @method
 * @param {string} address Server address
 * @return {boolean}
 */
State.prototype.contains = function(address) {
  if(this.primary &amp;&amp; this.primary.equals(address)) return true;
  for(var i = 0; i &lt; this.secondaries.length; i++) {
    if(this.secondaries[i].equals(address)) return true;
  }

  for(var i = 0; i &lt; this.arbiters.length; i++) {
    if(this.arbiters[i].equals(address)) return true;
  }

  for(var i = 0; i &lt; this.passives.length; i++) {
    if(this.passives[i].equals(address)) return true;
  }

  return false;
}

/**
 * Clean out all dead connections
 * @method
 */
State.prototype.clean = function() {
  if(this.primary != null &amp;&amp; !this.primary.isConnected()) {
    this.primary = null;
  }

  // Filter out disconnected servers
  this.secondaries = this.secondaries.filter(function(s) {
    return s.isConnected();
  });

  // Filter out disconnected servers
  this.arbiters = this.arbiters.filter(function(s) {
    return s.isConnected();
  });
}

/**
 * Destroy state
 * @method
 */
State.prototype.destroy = function() {
  this.state = DESTROYED;
  if(this.primary) this.primary.destroy();
  this.secondaries.forEach(function(s) {
    s.destroy();
  });
}

/**
 * Remove server from state
 * @method
 * @param {Server} Server to remove
 * @return {string} Returns type of server removed (primary|secondary)
 */
State.prototype.remove = function(server) {
  if(this.primary &amp;&amp; this.primary.equals(server)) {
    this.primary = null;
    return 'primary';
  }

  var length = this.arbiters.length;
  // Filter out the server from the arbiters
  this.arbiters = this.arbiters.filter(function(s) {
    return !s.equals(server);
  });
  if(this.arbiters.length &lt; length) return 'arbiter';

  var length = this.passives.length;
  // Filter out the server from the passives
  this.passives = this.passives.filter(function(s) {
    return !s.equals(server);
  });
  if(this.passives.length &lt; length) return 'passive';

  // Filter out the server from the secondaries
  this.secondaries = this.secondaries.filter(function(s) {
    return !s.equals(server);
  });

  return 'secondary';
}

/**
 * Get the server by name
 * @method
 * @param {string} address Server address
 * @return {Server}
 */
State.prototype.get = function(server) {
  var found = false;
  // All servers to search
  var servers = this.primary ? [this.primary] : [];
  servers = servers.concat(this.secondaries);
  // Locate the server
  for(var i = 0; i &lt; servers.length; i++) {
    if(servers[i].equals(server)) {
      return servers[i];
    }
  }
}

/**
 * Get all the servers in the set
 * @method
 * @return {array}
 */
State.prototype.getAll = function() {
  var servers = [];
  if(this.primary) servers.push(this.primary);
  return servers.concat(this.secondaries);
}

/**
 * All raw connections
 * @method
 * @return {array}
 */
State.prototype.getAllConnections = function() {
  var connections = [];
  if(this.primary) connections = connections.concat(this.primary.connections());
  this.secondaries.forEach(function(s) {
    connections = connections.concat(s.connections());
  })

  return connections;
}

/**
 * Return JSON object
 * @method
 * @return {object}
 */
State.prototype.toJSON = function() {
  return {
      primary: this.primary ? this.primary.lastIsMaster().me : null
    , secondaries: this.secondaries.map(function(s) {
      return s.lastIsMaster().me
    })
  }
}

/**
 * Returns the last known ismaster document for this server
 * @method
 * @return {object}
 */
State.prototype.lastIsMaster = function() {
  if(this.primary) return this.primary.lastIsMaster();
  if(this.secondaries.length > 0) return this.secondaries[0].lastIsMaster();
  return {};
}

/**
 * Promote server to primary
 * @method
 * @param {Server} server Server we wish to promote
 */
State.prototype.promotePrimary = function(server) {
  var currentServer = this.get(server);
  // Server does not exist in the state, add it as new primary
  if(currentServer == null) {
    this.primary = server;
    return;
  }

  // We found a server, make it primary and remove it from the secondaries
  // Remove the server first
  this.remove(currentServer);
  // Set as primary
  this.primary = currentServer;
}

var add = function(list, server) {
  // Check if the server is a secondary at the moment
  for(var i = 0; i &lt; list.length; i++) {
    if(list[i].equals(server)) return false;
  }

  list.push(server);
  return true; 
}

/**
 * Add server to list of secondaries
 * @method
 * @param {Server} server Server we wish to add
 */
State.prototype.addSecondary = function(server) {
  return add(this.secondaries, server);
}

/**
 * Add server to list of arbiters
 * @method
 * @param {Server} server Server we wish to add
 */
State.prototype.addArbiter = function(server) {
  return add(this.arbiters, server);
}

/**
 * Add server to list of passives
 * @method
 * @param {Server} server Server we wish to add
 */
State.prototype.addPassive = function(server) {
  return add(this.passives, server);
}

/**
 * Update the state given a specific ismaster result
 * @method
 * @param {object} ismaster IsMaster result
 * @param {Server} server IsMaster Server source
 */
State.prototype.update = function(ismaster, server) {
  var self = this;
  // Not in a known connection valid state
  if(!ismaster.ismaster &amp;&amp; !ismaster.secondary &amp;&amp; !ismaster.arbiterOnly) {
    // Remove the state
    var result = self.remove(server);
    if(self.state == CONNECTED)  {
      if(self.logger.isInfo()) self.logger.info(f('[%s] removing %s from set', self.id, ismaster.me));
      self.replSet.emit('left', self.remove(server), server);        
    }

    return false;
  }

  // Set the setName if it's not set from the first server
  if(self.setName == null &amp;&amp; ismaster.setName) {
    if(self.logger.isInfo()) self.logger.info(f('[%s] setting setName to %s', self.id, ismaster.setName));
    self.setName = ismaster.setName;
  }

  // Check if the replicaset name matches the provided one
  if(ismaster.setName &amp;&amp; self.setName != ismaster.setName) {
    if(self.logger.isError()) self.logger.error(f('[%s] server in replset %s is not part of the specified setName %s', self.id, ismaster.setName, self.setName));
    self.remove(server);
    self.replSet.emit('error', new MongoError("provided setName for Replicaset Connection does not match setName found in server seedlist"));
    return false;
  }

  // Log information
  if(self.logger.isInfo()) self.logger.info(f('[%s] updating replicaset state %s', self.id, JSON.stringify(this)));    

  // It's a master set it
  if(ismaster.ismaster &amp;&amp; self.setName == ismaster.setName &amp;&amp; !self.isPrimary(ismaster.me)) {
    self.promotePrimary(server);
    if(self.logger.isInfo()) self.logger.info(f('[%s] promoting %s to primary', self.id, ismaster.me));
    // Emit primary
    self.replSet.emit('joined', 'primary', this.primary);

    // We are connected
    if(self.state == CONNECTING) {
      self.state = CONNECTED;
      self.replSet.emit('connect', self.replSet);
    } else {
      self.state = CONNECTED;
      self.replSet.emit('reconnect', server);        
    }
  } else if(!ismaster.ismaster &amp;&amp; self.setName == ismaster.setName
    &amp;&amp; ismaster.arbiterOnly) {
      if(self.addArbiter(server)) {
        if(self.logger.isInfo()) self.logger.info(f('[%s] promoting %s to arbiter', self.id, ismaster.me));
        self.replSet.emit('joined', 'arbiter', server);
        return true;
      };

      return false;
  } else if(!ismaster.ismaster &amp;&amp; self.setName == ismaster.setName
    &amp;&amp; ismaster.secondary &amp;&amp; ismaster.passive) {
      if(self.addPassive(server)) {
        if(self.logger.isInfo()) self.logger.info(f('[%s] promoting %s to passive', self.id, ismaster.me));
        self.replSet.emit('joined', 'passive', server);
        return true;
      };

      return false;
  } else if(!ismaster.ismaster &amp;&amp; self.setName == ismaster.setName
    &amp;&amp; ismaster.secondary) {
      if(self.addSecondary(server)) {
        if(self.logger.isInfo()) self.logger.info(f('[%s] promoting %s to passive', self.id, ismaster.me));
        self.replSet.emit('joined', 'secondary', server);
        
        if(self.secondaryOnlyConnectionAllowed &amp;&amp; self.state == CONNECTING) {
          self.state = CONNECTED;
          self.replSet.emit('connect', self.replSet);
        }

        return true;
      };

      return false;
  }

  // Return update applied
  return true;
}

module.exports = State;</code></pre>
        </article>
    </section>






                    
                    <!-- disqus code -->
                    <div id="disqus_thread"></div>
                    <script type="text/javascript">
                        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                        var disqus_shortname = 'nodejsmongodbdriver'; // required: replace example with your forum shortname

                        /* * * DON'T EDIT BELOW THIS LINE * * */
                        (function() {
                            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                        })();
                    </script>
                    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>                    
                    <!-- // disqus code -->
                    

                    <footer>
                        Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha13</a> on Wed Feb 04 2015 16:33:09 GMT+0100 (CET)
                    </footer>
                </div>
            </td>
            <td valign='top'>
                
<div class="navigation">
    <h3 class="applicationName"><a href="index.html">Node.js MongoDB Driver API</a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="CommandResult">
            <span class="title">
                <a href="CommandResult.html">CommandResult</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="CommandResult#toJSON"><a href="CommandResult.html#toJSON">toJSON</a></li>
            
                <li data-name="CommandResult#toString"><a href="CommandResult.html#toString">toString</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Connection">
            <span class="title">
                <a href="Connection.html">Connection</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Connection#connect"><a href="Connection.html#connect">connect</a></li>
            
                <li data-name="Connection#destroy"><a href="Connection.html#destroy">destroy</a></li>
            
                <li data-name="Connection#isConnected"><a href="Connection.html#isConnected">isConnected</a></li>
            
                <li data-name="Connection#toJSON"><a href="Connection.html#toJSON">toJSON</a></li>
            
                <li data-name="Connection#toString"><a href="Connection.html#toString">toString</a></li>
            
                <li data-name="Connection#write"><a href="Connection.html#write">write</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="Connection#event:close"><a href="Connection.html#event:close">close</a></li>
            
                <li data-name="Connection#event:connect"><a href="Connection.html#event:connect">connect</a></li>
            
                <li data-name="Connection#event:error"><a href="Connection.html#event:error">error</a></li>
            
                <li data-name="Connection#event:parseError"><a href="Connection.html#event:parseError">parseError</a></li>
            
                <li data-name="Connection#event:timeout"><a href="Connection.html#event:timeout">timeout</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="Cursor">
            <span class="title">
                <a href="Cursor.html">Cursor</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Cursor#bufferedCount"><a href="Cursor.html#bufferedCount">bufferedCount</a></li>
            
                <li data-name="Cursor#clone"><a href="Cursor.html#clone">clone</a></li>
            
                <li data-name="Cursor#isDead"><a href="Cursor.html#isDead">isDead</a></li>
            
                <li data-name="Cursor#isKilled"><a href="Cursor.html#isKilled">isKilled</a></li>
            
                <li data-name="Cursor#isNotified"><a href="Cursor.html#isNotified">isNotified</a></li>
            
                <li data-name="Cursor#kill"><a href="Cursor.html#kill">kill</a></li>
            
                <li data-name="Cursor#next"><a href="Cursor.html#next">next</a></li>
            
                <li data-name="Cursor#readBufferedDocuments"><a href="Cursor.html#readBufferedDocuments">readBufferedDocuments</a></li>
            
                <li data-name="Cursor#rewind"><a href="Cursor.html#rewind">rewind</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Logger">
            <span class="title">
                <a href="Logger.html">Logger</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Logger.currentLogger"><a href="Logger.html#.currentLogger">currentLogger</a></li>
            
                <li data-name="Logger.filter"><a href="Logger.html#.filter">filter</a></li>
            
                <li data-name="Logger.reset"><a href="Logger.html#.reset">reset</a></li>
            
                <li data-name="Logger.setCurrentLogger"><a href="Logger.html#.setCurrentLogger">setCurrentLogger</a></li>
            
                <li data-name="Logger.setLevel"><a href="Logger.html#.setLevel">setLevel</a></li>
            
                <li data-name="Logger#debug"><a href="Logger.html#debug">debug</a></li>
            
                <li data-name="Logger#error"><a href="Logger.html#error">error</a></li>
            
                <li data-name="Logger#info"><a href="Logger.html#info">info</a></li>
            
                <li data-name="Logger#isDebug"><a href="Logger.html#isDebug">isDebug</a></li>
            
                <li data-name="Logger#isError"><a href="Logger.html#isError">isError</a></li>
            
                <li data-name="Logger#isInfo"><a href="Logger.html#isInfo">isInfo</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="MongoError">
            <span class="title">
                <a href="MongoError.html">MongoError</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="MongoError.create">
            <span class="title">
                <a href="MongoError.create.html">MongoError.create</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Mongos">
            <span class="title">
                <a href="Mongos.html">Mongos</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Mongos#addAuthProvider"><a href="Mongos.html#addAuthProvider">addAuthProvider</a></li>
            
                <li data-name="Mongos#addReadPreferenceStrategy"><a href="Mongos.html#addReadPreferenceStrategy">addReadPreferenceStrategy</a></li>
            
                <li data-name="Mongos#auth"><a href="Mongos.html#auth">auth</a></li>
            
                <li data-name="Mongos#command"><a href="Mongos.html#command">command</a></li>
            
                <li data-name="Mongos#connect"><a href="Mongos.html#connect">connect</a></li>
            
                <li data-name="Mongos#connections"><a href="Mongos.html#connections">connections</a></li>
            
                <li data-name="Mongos#cursor"><a href="Mongos.html#cursor">cursor</a></li>
            
                <li data-name="Mongos#destroy"><a href="Mongos.html#destroy">destroy</a></li>
            
                <li data-name="Mongos#getConnection"><a href="Mongos.html#getConnection">getConnection</a></li>
            
                <li data-name="Mongos#getServer"><a href="Mongos.html#getServer">getServer</a></li>
            
                <li data-name="Mongos#insert"><a href="Mongos.html#insert">insert</a></li>
            
                <li data-name="Mongos#isConnected"><a href="Mongos.html#isConnected">isConnected</a></li>
            
                <li data-name="Mongos#lastIsMaster"><a href="Mongos.html#lastIsMaster">lastIsMaster</a></li>
            
                <li data-name="Mongos#remove"><a href="Mongos.html#remove">remove</a></li>
            
                <li data-name="Mongos#setBSONParserType"><a href="Mongos.html#setBSONParserType">setBSONParserType</a></li>
            
                <li data-name="Mongos#update"><a href="Mongos.html#update">update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="Mongos#event:connect"><a href="Mongos.html#event:connect">connect</a></li>
            
                <li data-name="Mongos#event:joined"><a href="Mongos.html#event:joined">joined</a></li>
            
                <li data-name="Mongos#event:left"><a href="Mongos.html#event:left">left</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="ReadPreference">
            <span class="title">
                <a href="ReadPreference.html">ReadPreference</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ReadPreference.nearest"><a href="ReadPreference.html#.nearest">nearest</a></li>
            
                <li data-name="ReadPreference.primary"><a href="ReadPreference.html#.primary">primary</a></li>
            
                <li data-name="ReadPreference.primaryPreferred"><a href="ReadPreference.html#.primaryPreferred">primaryPreferred</a></li>
            
                <li data-name="ReadPreference.secondary"><a href="ReadPreference.html#.secondary">secondary</a></li>
            
                <li data-name="ReadPreference.secondaryPreferred"><a href="ReadPreference.html#.secondaryPreferred">secondaryPreferred</a></li>
            
                <li data-name="ReadPreference#equals"><a href="ReadPreference.html#equals">equals</a></li>
            
                <li data-name="ReadPreference#slaveOk"><a href="ReadPreference.html#slaveOk">slaveOk</a></li>
            
                <li data-name="ReadPreference#toJSON"><a href="ReadPreference.html#toJSON">toJSON</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ReplSet">
            <span class="title">
                <a href="ReplSet.html">ReplSet</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ReplSet#addAuthProvider"><a href="ReplSet.html#addAuthProvider">addAuthProvider</a></li>
            
                <li data-name="ReplSet#addReadPreferenceStrategy"><a href="ReplSet.html#addReadPreferenceStrategy">addReadPreferenceStrategy</a></li>
            
                <li data-name="ReplSet#auth"><a href="ReplSet.html#auth">auth</a></li>
            
                <li data-name="ReplSet#command"><a href="ReplSet.html#command">command</a></li>
            
                <li data-name="ReplSet#connect"><a href="ReplSet.html#connect">connect</a></li>
            
                <li data-name="ReplSet#connections"><a href="ReplSet.html#connections">connections</a></li>
            
                <li data-name="ReplSet#cursor"><a href="ReplSet.html#cursor">cursor</a></li>
            
                <li data-name="ReplSet#destroy"><a href="ReplSet.html#destroy">destroy</a></li>
            
                <li data-name="ReplSet#getConnection"><a href="ReplSet.html#getConnection">getConnection</a></li>
            
                <li data-name="ReplSet#getServer"><a href="ReplSet.html#getServer">getServer</a></li>
            
                <li data-name="ReplSet#insert"><a href="ReplSet.html#insert">insert</a></li>
            
                <li data-name="ReplSet#isConnected"><a href="ReplSet.html#isConnected">isConnected</a></li>
            
                <li data-name="ReplSet#lastIsMaster"><a href="ReplSet.html#lastIsMaster">lastIsMaster</a></li>
            
                <li data-name="ReplSet#parserType"><a href="ReplSet.html#parserType">parserType</a></li>
            
                <li data-name="ReplSet#remove"><a href="ReplSet.html#remove">remove</a></li>
            
                <li data-name="ReplSet#setBSONParserType"><a href="ReplSet.html#setBSONParserType">setBSONParserType</a></li>
            
                <li data-name="ReplSet#update"><a href="ReplSet.html#update">update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="ReplSet#event:connect"><a href="ReplSet.html#event:connect">connect</a></li>
            
                <li data-name="ReplSet#event:ha"><a href="ReplSet.html#event:ha">ha</a></li>
            
                <li data-name="ReplSet#event:joined"><a href="ReplSet.html#event:joined">joined</a></li>
            
                <li data-name="ReplSet#event:left"><a href="ReplSet.html#event:left">left</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="Represents a BSON Binary type.">
            <span class="title">
                <a href="Represents%2520a%2520BSON%2520Binary%2520type..html">Represents a BSON Binary type.</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Represents a BSON Code and Code with scope type.">
            <span class="title">
                <a href="Represents%2520a%2520BSON%2520Code%2520and%2520Code%2520with%2520scope%2520type..html">Represents a BSON Code and Code with scope type.</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Represents a BSON DbRef type.">
            <span class="title">
                <a href="Represents%2520a%2520BSON%2520DbRef%2520type..html">Represents a BSON DbRef type.</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Represents a BSON Double type.">
            <span class="title">
                <a href="Represents%2520a%2520BSON%2520Double%2520type..html">Represents a BSON Double type.</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Represents a BSON MaxKey type.">
            <span class="title">
                <a href="Represents%2520a%2520BSON%2520MaxKey%2520type..html">Represents a BSON MaxKey type.</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Represents a BSON MinKey type.">
            <span class="title">
                <a href="Represents%2520a%2520BSON%2520MinKey%2520type..html">Represents a BSON MinKey type.</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Represents a BSON ObjectId type.">
            <span class="title">
                <a href="Represents%2520a%2520BSON%2520ObjectId%2520type..html">Represents a BSON ObjectId type.</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Represents a BSON Symbol type.">
            <span class="title">
                <a href="Represents%2520a%2520BSON%2520Symbol%2520type..html">Represents a BSON Symbol type.</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Represents the BSON Long type.">
            <span class="title">
                <a href="Represents%2520the%2520BSON%2520Long%2520type..html">Represents the BSON Long type.</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Represents the BSON Timestamp type.">
            <span class="title">
                <a href="Represents%2520the%2520BSON%2520Timestamp%2520type..html">Represents the BSON Timestamp type.</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Server">
            <span class="title">
                <a href="Server.html">Server</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Server#addAuthProvider"><a href="Server.html#addAuthProvider">addAuthProvider</a></li>
            
                <li data-name="Server#addReadPreferenceStrategy"><a href="Server.html#addReadPreferenceStrategy">addReadPreferenceStrategy</a></li>
            
                <li data-name="Server#auth"><a href="Server.html#auth">auth</a></li>
            
                <li data-name="Server#command"><a href="Server.html#command">command</a></li>
            
                <li data-name="Server#connect"><a href="Server.html#connect">connect</a></li>
            
                <li data-name="Server#connections"><a href="Server.html#connections">connections</a></li>
            
                <li data-name="Server#cursor"><a href="Server.html#cursor">cursor</a></li>
            
                <li data-name="Server#destroy"><a href="Server.html#destroy">destroy</a></li>
            
                <li data-name="Server#equals"><a href="Server.html#equals">equals</a></li>
            
                <li data-name="Server#getCallbacks"><a href="Server.html#getCallbacks">getCallbacks</a></li>
            
                <li data-name="Server#getConnection"><a href="Server.html#getConnection">getConnection</a></li>
            
                <li data-name="Server#getServer"><a href="Server.html#getServer">getServer</a></li>
            
                <li data-name="Server#insert"><a href="Server.html#insert">insert</a></li>
            
                <li data-name="Server#isConnected"><a href="Server.html#isConnected">isConnected</a></li>
            
                <li data-name="Server#lastIsMaster"><a href="Server.html#lastIsMaster">lastIsMaster</a></li>
            
                <li data-name="Server#parserType"><a href="Server.html#parserType">parserType</a></li>
            
                <li data-name="Server#remove"><a href="Server.html#remove">remove</a></li>
            
                <li data-name="Server#setBSONParserType"><a href="Server.html#setBSONParserType">setBSONParserType</a></li>
            
                <li data-name="Server#update"><a href="Server.html#update">update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="Server#event:close"><a href="Server.html#event:close">close</a></li>
            
                <li data-name="Server#event:connect"><a href="Server.html#event:connect">connect</a></li>
            
                <li data-name="Server#event:error"><a href="Server.html#event:error">error</a></li>
            
                <li data-name="Server#event:parseError"><a href="Server.html#event:parseError">parseError</a></li>
            
                <li data-name="Server#event:reconnect"><a href="Server.html#event:reconnect">reconnect</a></li>
            
                <li data-name="Server#event:timeout"><a href="Server.html#event:timeout">timeout</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="Session">
            <span class="title">
                <a href="Session.html">Session</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Session#command"><a href="Session.html#command">command</a></li>
            
                <li data-name="Session#cursor"><a href="Session.html#cursor">cursor</a></li>
            
                <li data-name="Session#insert"><a href="Session.html#insert">insert</a></li>
            
                <li data-name="Session#remove"><a href="Session.html#remove">remove</a></li>
            
                <li data-name="Session#update"><a href="Session.html#update">update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="State">
            <span class="title">
                <a href="State.html">State</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="State#addArbiter"><a href="State.html#addArbiter">addArbiter</a></li>
            
                <li data-name="State#addPassive"><a href="State.html#addPassive">addPassive</a></li>
            
                <li data-name="State#addSecondary"><a href="State.html#addSecondary">addSecondary</a></li>
            
                <li data-name="State#clean"><a href="State.html#clean">clean</a></li>
            
                <li data-name="State#contains"><a href="State.html#contains">contains</a></li>
            
                <li data-name="State#destroy"><a href="State.html#destroy">destroy</a></li>
            
                <li data-name="State#get"><a href="State.html#get">get</a></li>
            
                <li data-name="State#getAll"><a href="State.html#getAll">getAll</a></li>
            
                <li data-name="State#getAllConnections"><a href="State.html#getAllConnections">getAllConnections</a></li>
            
                <li data-name="State#isPassive"><a href="State.html#isPassive">isPassive</a></li>
            
                <li data-name="State#isPrimary"><a href="State.html#isPrimary">isPrimary</a></li>
            
                <li data-name="State#isPrimaryConnected"><a href="State.html#isPrimaryConnected">isPrimaryConnected</a></li>
            
                <li data-name="State#isSecondary"><a href="State.html#isSecondary">isSecondary</a></li>
            
                <li data-name="State#isSecondaryConnected"><a href="State.html#isSecondaryConnected">isSecondaryConnected</a></li>
            
                <li data-name="State#lastIsMaster"><a href="State.html#lastIsMaster">lastIsMaster</a></li>
            
                <li data-name="State#promotePrimary"><a href="State.html#promotePrimary">promotePrimary</a></li>
            
                <li data-name="State#remove"><a href="State.html#remove">remove</a></li>
            
                <li data-name="State#toJSON"><a href="State.html#toJSON">toJSON</a></li>
            
                <li data-name="State#update"><a href="State.html#update">update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>
            </td>
        </tr>
    </table>
</div>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/main.js"></script>
</body>
</html>
